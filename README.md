# M_PosSet

## 概要
アンカーの上位互換を目指したものです。
バグがあると思うので、ダウンロードや使用は自己責任でお願いします。

## 導入方法
三つのファイルを導入する必要があります。

#### ・M_PosSet_plugin.auf
ウィンドウの描画などを行うプラグインです。
aviutl.exeのあるフォルダ、又はpluginsフォルダに入れてください。

#### ・M_PosSet_Module.dll
ファイルに書き出された座標を読みだしたりするものです。
exedit.aufのあるフォルダに入れておくと安心です。
使用するスクリプトと同じフォルダに置いてもいいです。
スクリプト制御で使用する場合は、exedit.aufのあるフォルダかscriptフォルダ直下に入れてください。

#### ・M_PosSet.anm
座標をグローバル変数で宣言するスクリプトです。
scriptフォルダ直下か、scriptフォルダ直下にあるフォルダに入れてください。

## 使用方法
基本的に以下の流れで使用します。

1.表示→M_PosSet_pluginの表示、からマス目のあるウィンドウをだします。
2.設定→M_PosSet_ForFlag_ver.1.0の表示、から設定ウィンドウをだします。
3.いろいろやって、座標を宣言します。
4.座標をM_PosSet_Dataフォルダにファイルとして出力します。
5.M_PosSet.anmでファイルに書き出された座標をaviutl上に読み込みます。
6.使用したいアンカー系スクリプトのダイアログにMPS[key]と書きます。keyはM_PosSet.anmで決定したものです。

## ウィンドウでの操作方法(M_PosSet_plugin.auf
マス目のウィンドウでの操作方法です。

#### 新しい座標の作成
座標を置きたい場所を左ダブルクリックします。

#### 座標の移動
移動したい座標を左クリックしながら動かします。

#### 座標の削除
削除したい座標の上で右クリックします。

#### 範囲選択する
左クリックしながらマウスを動かします。

#### 範囲移動
範囲選択した際に出てくる青い四角をドラッグします。

#### 範囲削除
範囲選択した際に出てくる青い四角の中で右クリックします。

#### 更新
なにもない場所を右クリックすることで、更新されます。
番号の再配置もこのときに行われます。

## 設定ウィンドウの項目(M_PosSet_ForFlag_ver.1.0
設定ウィンドウの値を変えた後に、マス目のウィンドウの上にマウスを持っていくと設定が反映されます。

#### 拡大率
スケールを決めます。
枠表示にチェックするとわかりやすいかもしれないです。

#### 透明度
半透明にチェックが入っている場合に有効です。
マス目のウィンドウの透明度を決めます。

#### ベ精度
ベジェ曲線にチェックが入っている場合に有効です。
ベジェ曲線の精度を決めれます。

#### 番号表示
座標の上に識別番号を表示します。

#### 線分
識別番号をもとに線を引きます。

#### ベジェ曲線
ベジェ曲線を引きます。

#### 半透明
マス目のウィンドウを半透明にします。

#### 枠表示
aviutlの画面の大きさに相当する枠を表示します。

#### 入出力ボタン表示
入出力ボタンを表示します。
桃色がファイル読み込みボタン、緑色がファイル出力ボタンです。

## スクリプトのパラメータ(M_PosSet.anm
スクリプトはアニメーション効果から追加できます。

#### key
keyを決めます。1の場合、アンカー系スクリプトで使用するときにMPS[1]とします。

#### zoom
座標の縮尺を調整できます。

#### rot
座標を回転させます。

#### reset
MPSで宣言されたものをすべて初期化します。
よくわからなければ、0にしてください。

#### 三次元
チェックすると、三次元座標をMPS[key]にいれます。

#### FileName
読み込みたいファイルの名前を書きます。
読み込みたいファイルはM_PosSet_Dataフォルダにある必要があります。
test.txtを読み込みたい場合、test.txtとします。
ファイル名が長いと上手くいかないことがあります。

## スクリプト制御について
スクリプト制御を使用することで、luaからファイルを書き出せます。
使用例はluaフォルダにあるsamples.txtを参考にしてください。

## 連絡
バグ報告などを頂けると助かります。
https://twitter.com/metaphysicalba1

